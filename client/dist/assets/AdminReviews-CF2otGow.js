import{g as Le,r as i,x as S,j as e,aD as Be,y as o,U as ye,z,B as je,C as ve,t as C,H as M,G as V,m as Ee,A as Oe,b as Ne,ai as ze,I as Me,J as Ve,K as He}from"./index-BB3VIKDG.js";import{C as Je}from"./ContactSupportWrapper-5ucMB0jI.js";const j="https://urbansetu.onrender.com";function Ge(){var le,oe,ne,ie;const{currentUser:m}=Le(s=>s.user),[p,u]=i.useState([]),[k,H]=i.useState(!0),[J,W]=i.useState(""),[x,q]=i.useState(1),[g,we]=i.useState(1),[v,Re]=i.useState(""),[N,Se]=i.useState("date"),[f,G]=i.useState("desc"),[a,K]=i.useState(null),[_,A]=i.useState(!1),[b,P]=i.useState(null),[w,F]=i.useState(""),[U,$]=i.useState(""),[T,D]=i.useState(!1),[y,I]=i.useState(null),[h,Y]=i.useState({}),[L,Q]=i.useState({}),[X,B]=i.useState({}),[Z,Ce]=i.useState("");i.useEffect(()=>{m&&(m.role==="admin"||m.role==="rootadmin")&&ee();const s=t=>{u(r=>t.status==="removed"||t.deleted?r.filter(n=>n._id!==t._id):r.some(n=>n._id===t._id)?r.map(n=>n._id===t._id?{...n,...t}:n):[t,...r])};S.on("reviewUpdated",s);const l=t=>{u(r=>r.map(d=>d.userId===t.userId?{...d,userName:t.username,userAvatar:t.avatar}:d))};return S.on("profileUpdated",l),()=>{S.off("reviewUpdated",s),S.off("profileUpdated",l)}},[m,x,v,N,f]),i.useEffect(()=>(a||_&&b||T&&y?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%"):(document.body.style.overflow="",document.body.style.position="",document.body.style.width=""),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width=""}),[a,_,b,T,y]);const ee=async()=>{try{const s=new URLSearchParams({page:x,limit:10,sort:N,order:f});v&&s.append("status",v);const l=await fetch(`${j}/api/review/admin/all?${s}`,{credentials:"include"}),t=await l.json();l.ok?(u(t.reviews),we(t.pages)):W(t.message||"Failed to load reviews")}catch{W("Network error. Please try again.")}finally{H(!1)}},se=async(s,l,t="")=>{try{const r=await fetch(`${j}/api/review/admin/status/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:l,adminNote:t})}),d=await r.json();r.ok?(u(p.map(n=>n._id===s?{...n,status:l,adminNote:t}:n)),o.success(`Review ${l} successfully`)):o.error(d.message||"Failed to update review status")}catch{o.error("Network error. Please try again.")}},ke=async()=>{if(!w){o.error("Please select a removal reason");return}try{const s=await fetch(`${j}/api/review/admin/remove/${b._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:w,note:U})}),l=await s.json();s.ok?(u(p.map(t=>t._id===b._id?{...t,status:"removed",removalReason:w,removalNote:U}:t)),A(!1),P(null),F(""),$(""),o.success("Review removed successfully")):o.error(l.message||"Failed to remove review")}catch{o.error("Network error. Please try again.")}},_e=async s=>{try{const l=await fetch(`${j}/api/review/admin/restore/${s}`,{method:"PUT",credentials:"include"}),t=await l.json();l.ok?(u(p.map(r=>r._id===s?{...r,...t.review}:r)),o.success("Review restored and approved")):o.error(t.message||"Failed to restore review")}catch{o.error("Network error. Please try again.")}},Ae=()=>{y&&(u(p.filter(s=>s._id!==y._id)),D(!1),I(null),o.success("Review deleted from table successfully"))},Pe=(s,l)=>{Y(t=>({...t,[s]:l}))},Fe=async(s,l)=>{Q(t=>({...t,[s]:!0})),B(t=>({...t,[s]:""}));try{const t=await fetch(`${j}/api/review/respond/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({ownerResponse:h[s]})}),r=await t.json();t.ok?(u(d=>d.map(n=>n._id===s?{...n,ownerResponse:h[s]}:n)),Y(d=>({...d,[s]:""})),o.success("Owner response submitted successfully")):(B(d=>({...d,[s]:r.message||"Failed to submit response"})),o.error(r.message||"Failed to submit response"))}catch{B(r=>({...r,[s]:"Network error. Please try again."}))}finally{Q(t=>({...t,[s]:!1}))}},te=s=>[...Array(5)].map((l,t)=>e.jsx(Ne,{className:`text-sm ${t<s?"text-yellow-400":"text-gray-300"}`},t)),R=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ae=s=>{const t={pending:{color:"bg-yellow-100 text-yellow-800",icon:C},approved:{color:"bg-green-100 text-green-800",icon:C},rejected:{color:"bg-red-100 text-red-800",icon:M},removed:{color:"bg-gray-100 text-gray-800",icon:V},removed_by_user:{color:"bg-orange-100 text-orange-800",icon:V}}[s],r=t.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.color}`,children:[e.jsx(r,{className:"mr-1"}),s==="removed_by_user"?"Removed by User":s.charAt(0).toUpperCase()+s.slice(1)]})},E=s=>N!==s?e.jsx(Me,{className:"text-gray-400"}):f==="desc"?e.jsx(Ve,{className:"text-blue-600"}):e.jsx(He,{className:"text-blue-600"}),O=s=>{N===s?(G(f==="desc"?"asc":"desc"),o.info(`Sorted by ${s} (${f==="desc"?"ascending":"descending"})`)):(Se(s),G("desc"),o.info(`Sorted by ${s} (descending)`))},Ue=async()=>{try{H(!0),await ee(),o.success("Reviews refreshed successfully")}catch{o.error("Failed to refresh reviews")}},re=p.filter(s=>{var de,ce,me,xe,ue,he,pe,ge,fe,be;const l=((de=s.userName)==null?void 0:de.toLowerCase())||"",t=((ce=s.userEmail)==null?void 0:ce.toLowerCase())||"",r=((xe=(me=s.listingId)==null?void 0:me.name)==null?void 0:xe.toLowerCase())||"",d=((he=(ue=s.listingId)==null?void 0:ue.city)==null?void 0:he.toLowerCase())||"",n=((ge=(pe=s.listingId)==null?void 0:pe.state)==null?void 0:ge.toLowerCase())||"",$e=String(s.rating),Te=((fe=s.comment)==null?void 0:fe.toLowerCase())||"",De=((be=s.adminNote)==null?void 0:be.toLowerCase())||"",Ie=R(s.createdAt).toLowerCase(),c=Z.toLowerCase();return l.includes(c)||t.includes(c)||r.includes(c)||d.includes(c)||n.includes(c)||$e===c||Te.includes(c)||De.includes(c)||Ie.includes(c)||c===""});return!m||m.role!=="admin"&&m.role!=="rootadmin"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})}):k?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading reviews..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 py-4 sm:py-10 px-1 sm:px-2 md:px-8 animate-fadeIn",children:[e.jsxs("div",{className:"max-w-full sm:max-w-3xl md:max-w-6xl mx-auto bg-white rounded-2xl shadow-2xl p-2 sm:p-4 md:p-8 animate-slideUp",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-4xl font-extrabold text-blue-700 drop-shadow animate-fade-in",children:"Review Management"}),e.jsxs("button",{onClick:Ue,disabled:k,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 transition disabled:opacity-50 disabled:cursor-not-allowed shadow",title:"Refresh reviews",children:[e.jsx(Be,{className:`${k?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 mb-4",children:e.jsx("input",{type:"text",placeholder:"Search by user email, name, property name, city, state, stars, comment, admin note, or review date...",className:"border border-gray-300 rounded-lg px-3 py-2 w-full sm:w-1/2",value:Z,onChange:s=>{Ce(s.target.value)}})}),e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 sm:mb-6 gap-2 sm:gap-0",children:e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-4 w-full",children:[e.jsxs("select",{value:v,onChange:s=>{Re(s.target.value),s.target.value?o.info(`Filtered by status: ${s.target.value}`):o.info("Showing all reviews")},className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"removed",children:"Removed"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Sort:"}),e.jsxs("button",{onClick:()=>O("date"),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 rounded-lg hover:bg-gray-200",children:["Date ",E("date")]}),e.jsxs("button",{onClick:()=>O("rating"),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 rounded-lg hover:bg-gray-200",children:["Rating ",E("rating")]}),e.jsxs("button",{onClick:()=>O("helpful"),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 rounded-lg hover:bg-gray-200",children:["Helpful ",E("helpful")]})]})]})}),J&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-800",children:J})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{className:"flex flex-col gap-4 sm:table w-full",children:re.map((s,l)=>{var t,r,d;return e.jsxs("div",{className:"flex flex-col sm:table-row bg-white rounded-lg shadow-sm sm:shadow-none p-3 sm:p-0 border sm:border-0"+(l!==re.length-1?" sm:border-b sm:border-gray-200":""),style:{marginBottom:"1.5rem",border:"1px solid #e5e7eb",borderRadius:"0.75rem",boxShadow:"0 1px 3px rgba(0,0,0,0.04)"},children:[e.jsx("div",{className:"flex flex-row items-center gap-3 sm:table-cell sm:align-top sm:w-1/4 mb-2 sm:mb-0",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ye,{user:{username:s.userName,avatar:s.userAvatar},size:"w-10 h-10",textSize:"text-sm",showBorder:!1}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.userName}),s.isVerified&&e.jsx(z,{className:"text-green-600 text-sm",title:"Verified user"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:(t=s.listingId)!=null&&t.name?e.jsx("a",{href:`/admin/listing/${typeof s.listingId=="object"?s.listingId._id:s.listingId}`,className:"text-blue-600 hover:underline",target:"_blank",rel:"noopener noreferrer",children:s.listingId.name}):"Property not found"}),e.jsxs("div",{className:"text-xs text-gray-400",children:[(r=s.listingId)==null?void 0:r.city,", ",(d=s.listingId)==null?void 0:d.state]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:table-cell sm:align-top sm:w-1/4 mb-2 sm:mb-0",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[te(s.rating),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[s.rating," star",s.rating>1?"s":""]}),s.helpfulCount>0&&e.jsxs("div",{className:"flex items-center ml-4 text-sm text-gray-500",children:[e.jsx(je,{className:"mr-1"}),s.helpfulCount]})]}),e.jsx("p",{className:"text-sm text-gray-900 line-clamp-2",children:s.comment}),s.verifiedByBooking&&e.jsx("span",{className:"inline-block mt-1 text-xs text-green-600 bg-green-50 px-2 py-1 rounded",children:"Booked this property"})]}),e.jsxs("div",{className:"flex flex-col gap-1 sm:table-cell sm:align-top sm:w-1/4 mb-2 sm:mb-0",children:[e.jsx("div",{className:"mb-2",children:ae(s.status)}),e.jsx("div",{className:"text-sm text-gray-500",children:R(s.createdAt)}),s.adminNote&&e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Note: ",s.adminNote]}),s.removalReason&&e.jsxs("div",{className:"text-xs text-red-600 mt-1",children:["Removed: ",s.removalReason]}),s.ownerResponse&&e.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded-md border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-800 flex items-center gap-2",children:[e.jsx(ve,{className:"inline-block text-blue-500"}),e.jsx("strong",{children:"Owner Response:"})," ",s.ownerResponse]})})]}),e.jsxs("div",{className:"flex flex-col gap-2 sm:table-cell sm:align-top sm:w-1/4 mb-2 sm:mb-0",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-2",children:[s.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>se(s._id,"approved"),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all transform hover:scale-105 shadow font-semibold flex items-center gap-2",title:"Approve review",children:[e.jsx(C,{})," Approve"]}),e.jsxs("button",{onClick:()=>se(s._id,"rejected"),className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-2 rounded-lg hover:from-red-600 hover:to-red-700 transition-all transform hover:scale-105 shadow font-semibold flex items-center gap-2",title:"Reject review",children:[e.jsx(M,{})," Reject"]})]}),s.status==="approved"&&e.jsxs("button",{onClick:n=>{n.stopPropagation(),P(s),A(!0)},className:"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white px-4 py-2 rounded-lg hover:from-yellow-600 hover:to-yellow-700 transition-all transform hover:scale-105 shadow font-semibold flex items-center gap-2",title:"Remove review",children:[e.jsx(V,{})," Remove"]}),(s.status==="removed"||s.status==="removed_by_user")&&e.jsxs("button",{onClick:()=>_e(s._id),className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-lg hover:from-green-600 hover:to-green-700 transition-all transform hover:scale-105 shadow font-semibold flex items-center gap-2",title:"Restore review",children:[e.jsx(C,{})," Restore"]}),e.jsxs("button",{onClick:()=>K(s),className:"bg-gradient-to-r from-blue-400 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all transform hover:scale-105 shadow font-semibold flex items-center gap-2",title:"View details",children:[e.jsx(Ee,{})," View"]}),e.jsxs("button",{onClick:n=>{n.stopPropagation(),I(s),D(!0)},className:"bg-gradient-to-r from-gray-500 to-gray-600 text-white px-4 py-2 rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all transform hover:scale-105 shadow font-semibold flex items-center gap-2",title:"Delete from table",children:[e.jsx(Oe,{})," Delete"]})]}),m&&s.listingId&&m._id===s.listingId.userRef&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-blue-700 mb-1 flex items-center gap-1",children:[e.jsx(ve,{})," Respond as Owner"]}),e.jsx("textarea",{className:"w-full border border-blue-300 rounded-md p-2 text-sm mb-2",rows:"2",placeholder:"Write a response to this review...",value:h[s._id]!==void 0?h[s._id]:s.ownerResponse||"",onChange:n=>Pe(s._id,n.target.value),disabled:L[s._id]}),e.jsx("button",{className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 text-sm",onClick:()=>Fe(s._id,s.listingId.userRef),disabled:L[s._id]||!h[s._id]||h[s._id].trim()===(s.ownerResponse||"").trim(),children:L[s._id]?"Saving...":s.ownerResponse?"Update Response":"Add Response"}),X[s._id]&&e.jsx("div",{className:"text-red-600 text-xs mt-1",children:X[s._id]})]})]})]},s._id)})})}),g>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-6 gap-2",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Page ",x," of ",g]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[e.jsx("button",{onClick:()=>{q(Math.max(1,x-1)),o.info(`Navigated to page ${Math.max(1,x-1)}`)},disabled:x===1,className:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed w-full sm:w-auto",children:"Previous"}),e.jsx("button",{onClick:()=>{q(Math.min(g,x+1)),o.info(`Navigated to page ${Math.min(g,x+1)}`)},disabled:x===g,className:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed w-full sm:w-auto",children:"Next"})]})]})]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xs sm:max-w-2xl mx-2 sm:mx-4 max-h-[90vh] overflow-y-auto p-0 sm:p-0 relative animate-fadeIn",children:[e.jsx("button",{onClick:()=>K(null),className:"absolute top-3 right-3 text-gray-400 hover:text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-full p-2 transition-colors z-10 shadow","aria-label":"Close",children:e.jsx(M,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex flex-col items-center justify-center bg-gradient-to-r from-blue-100 to-purple-100 rounded-t-2xl px-6 py-5 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ye,{user:{username:a.userName,avatar:a.userAvatar},size:"w-14 h-14",textSize:"text-lg",showBorder:!0,className:"border-4 border-white shadow-lg"}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-blue-800 flex items-center gap-2",children:[a.userName,a.isVerified&&e.jsx(z,{className:"text-green-600 text-base",title:"Verified user"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:(le=a.userId)==null?void 0:le.email})]})]}),e.jsxs("div",{className:"mt-2 flex flex-col items-center",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-purple-700 font-semibold",children:[e.jsx(Ne,{className:"text-yellow-400"}),a.rating," / 5"]}),e.jsx("div",{className:"flex gap-1 mt-1",children:te(a.rating)})]})]}),e.jsxs("div",{className:"px-4 sm:px-8 py-4 space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 flex flex-col gap-1 border border-blue-100",children:[e.jsxs("div",{className:"font-semibold text-blue-700 flex items-center gap-2",children:[e.jsx(ze,{className:"text-blue-400"}),((oe=a.listingId)==null?void 0:oe.name)||"Property not found"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(ne=a.listingId)==null?void 0:ne.city,", ",(ie=a.listingId)==null?void 0:ie.state]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[e.jsx("h4",{className:"font-medium mb-1 text-gray-700",children:"Status"}),ae(a.status)]}),e.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[e.jsx("h4",{className:"font-medium mb-1 text-gray-700",children:"Date"}),e.jsx("p",{className:"text-gray-700",children:R(a.createdAt)})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1 text-gray-700",children:"Comment"}),e.jsx("p",{className:"text-gray-800 bg-gray-50 rounded-md p-3 border border-gray-100 shadow-inner",children:a.comment})]}),a.helpfulCount>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1 text-gray-700",children:"Helpful Votes"}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(je,{className:"mr-2 text-blue-500"}),a.helpfulCount," people found this helpful"]})]}),a.isVerified&&e.jsxs("div",{className:"bg-green-50 p-3 rounded-md flex items-center gap-2 border border-green-100",children:[e.jsx(z,{className:"text-green-600"}),e.jsx("span",{className:"text-green-800 font-medium",children:"Verified user"}),a.verifiedByBooking&&e.jsx("span",{className:"ml-2 text-xs text-green-700",children:"Booked this property"})]}),a.adminNote&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1 text-gray-700",children:"Admin Note"}),e.jsx("p",{className:"text-gray-700 bg-yellow-50 p-3 rounded-md border border-yellow-100 shadow-inner",children:a.adminNote})]}),(a.status==="removed"||a.status==="removed_by_user")&&a.removalReason&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1 text-gray-700",children:"Removal Details"}),e.jsxs("div",{className:"bg-red-50 p-3 rounded-md border border-red-200",children:[e.jsxs("p",{className:"text-red-800",children:[e.jsx("strong",{children:"Reason:"})," ",a.removalReason]}),a.removalNote&&e.jsxs("p",{className:"text-red-700 mt-1",children:[e.jsx("strong",{children:"Note:"})," ",a.removalNote]}),a.removedAt&&e.jsxs("p",{className:"text-red-600 text-sm mt-1",children:["Removed on ",R(a.removedAt)]})]})]})]})]})}),_&&b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-xs sm:max-w-md w-full mx-2 sm:mx-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Remove Review"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to remove this review? This action cannot be undone."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Removal Reason *"}),e.jsxs("select",{value:w,onChange:s=>{F(s.target.value),s.target.value&&o.info(`Selected removal reason: ${s.target.value}`)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select a reason"}),e.jsx("option",{value:"spam",children:"Spam"}),e.jsx("option",{value:"inappropriate",children:"Inappropriate content"}),e.jsx("option",{value:"fake",children:"Fake review"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Note (Optional)"}),e.jsx("textarea",{value:U,onChange:s=>$(s.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Provide additional details..."})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:ke,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Remove Review"}),e.jsx("button",{onClick:()=>{A(!1),P(null),F(""),$(""),o.info("Review removal cancelled")},className:"flex-1 bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600",children:"Cancel"})]})]})}),T&&y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-xs sm:max-w-md w-full mx-2 sm:mx-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-red-600",children:"Delete Review"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to delete this review from the table? This will only remove it from your current view and won't affect the actual review data."}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:e.jsxs("p",{className:"text-yellow-800 text-sm",children:[e.jsx("strong",{children:"Note:"})," This action only removes the review from your current table view. The review data remains in the database."]})}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:Ae,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Delete from Table"}),e.jsx("button",{onClick:()=>{D(!1),I(null),o.info("Delete action cancelled")},className:"flex-1 bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})}),e.jsx(Je,{})]})}export{Ge as default};
