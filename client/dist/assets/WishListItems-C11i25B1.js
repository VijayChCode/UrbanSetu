import{v as l,u as n,b as x,j as s,L as h,l as i}from"./index-crh2KQ3K.js";import{M as u}from"./index-DDjDdRay.js";import{m as p}from"./addressMasking-3vIUwCOC.js";function f({listing:e}){const{removeFromWishlist:o}=l(),a=n(),{currentUser:c}=x(t=>t.user),m=a.pathname.includes("/admin");let r=`/listing/${e._id}`;m?r=`/admin/listing/${e._id}`:a.pathname.startsWith("/user")&&(r=`/user/listing/${e._id}`);const d=async()=>{const t=await o(e._id);t.success,alert(t.message)};return s.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden p-4",children:[s.jsxs(h,{to:r,children:[e.imageUrls&&e.imageUrls.length>0?s.jsx("img",{src:e.imageUrls[0],alt:"home",className:"w-full h-48 object-cover rounded-md",onError:t=>{t.target.src="https://via.placeholder.com/400x300?text=No+Image",t.target.className="w-full h-48 object-cover rounded-md opacity-50"}}):s.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-md flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx("div",{className:"text-4xl mb-2",children:"🏠"}),s.jsx("p",{className:"text-sm",children:"No Image"})]})}),s.jsxs("div",{className:"p-3",children:[s.jsx("p",{className:"text-gray-700 font-semibold text-lg truncate",children:e.name}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[s.jsx(u,{className:"text-red-500"}),s.jsx("p",{className:"truncate",children:p(e.propertyNumber||e.city?{propertyNumber:e.propertyNumber,landmark:e.landmark,city:e.city,district:e.district,state:e.state,pincode:e.pincode}:e.address,!!c)})]}),s.jsx("p",{className:"text-gray-600 text-sm mt-2 truncate",children:e.description}),s.jsxs("p",{className:"text-lg font-bold text-blue-500 mt-2",children:["Rs:",e.offer?e.discountPrice.toLocaleString("en-US"):e.regularPrice.toLocaleString("en-US"),e.type==="rent"&&"/month"]}),s.jsxs("div",{className:"flex space-x-4 text-gray-600 text-sm mt-2",children:[s.jsx("p",{children:e.bedrooms>1?`${e.bedrooms} beds`:`${e.bedrooms} bed`}),s.jsx("p",{children:e.bathrooms>1?`${e.bathrooms} bathrooms`:`${e.bathrooms} bathroom`})]})]})]}),s.jsx("button",{onClick:d,className:"p-2 rounded-full bg-red-500 hover:bg-red-600 transition",children:s.jsx(i,{className:"text-white text-md"})})]})}export{f as W};
