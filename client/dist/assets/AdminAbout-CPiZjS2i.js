import{r as o,g as G,j as e,v,F as h,a as L,b as M,c as z,d as P,e as _,f as w}from"./index-DwAunvbz.js";const y="https://urbansetu.onrender.com";function Q(){const[l,C]=o.useState(null),[n,i]=o.useState(null),[O,U]=o.useState(!0),[b,F]=o.useState(!1),[D,x]=o.useState(!1),[k,d]=o.useState(""),[p,f]=o.useState(!1),{currentUser:Y}=G(s=>s.user)||{},[H,j]=o.useState(!1),[g,S]=o.useState(""),[T,u]=o.useState("");o.useEffect(()=>{(async()=>{try{const a=await fetch(`${y}/api/about`);if(a.ok){const t=await a.json();C(t)}}catch{d("Failed to fetch About data.")}finally{U(!1)}})()},[]);const X=()=>{i({heroTitle:l.heroTitle||"Welcome to UrbanSetu",heroText:l.heroText||"",mission:l.mission||"",features:l.features?[...l.features]:[],whoWeServe:l.whoWeServe?[...l.whoWeServe]:[],trust:l.trust||"",team:l.team||"",contact:l.contact||"",customFields:l.customFields?[...l.customFields]:[],socialEmail:l.socialEmail||"",socialInstagram:l.socialInstagram||"",socialX:l.socialX||"",socialFacebook:l.socialFacebook||"",socialYouTube:l.socialYouTube||""}),f(!0),x(!1),d("")},r=s=>{const{name:a,value:t}=s.target;i(c=>({...c,[a]:t}))},A=(s,a,t)=>{i(c=>({...c,[s]:c[s].map((m,N)=>N===a?t:m)}))},E=s=>{i(a=>({...a,[s]:[...a[s],""]}))},W=(s,a)=>{i(t=>({...t,[s]:t[s].filter((c,m)=>m!==a)}))},B=()=>{j(!0),S(""),u("")},V=async s=>{if(s.preventDefault(),u(""),!g){u("Password is required");return}try{(await fetch(`${y}/api/user/verify-password/${Y._id}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:g})})).ok?(j(!1),await R()):u("Incorrect password, no information changed")}catch{u("Incorrect password, no information changed")}},R=async()=>{F(!0),d(""),x(!1);try{(await fetch(`${y}/api/about`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"})).ok?(C(n),f(!1),x(!0),setTimeout(()=>x(!1),2e3)):d("Failed to save changes.")}catch{d("Failed to save changes.")}finally{F(!1)}},$=()=>{f(!1),i(null),d(""),x(!1)},I=(s,a,t)=>{i(c=>({...c,customFields:c.customFields.map((m,N)=>N===s?{...m,[a]:t}:m)}))},J=()=>{i(s=>({...s,customFields:[...s.customFields,{key:"",value:""}]}))},q=s=>{i(a=>({...a,customFields:a.customFields.filter((t,c)=>c!==s)}))};return O||!l?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loading about page..."})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-100 min-h-screen py-10 px-2 md:px-8",children:[e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6 relative",children:[e.jsx("div",{className:"flex justify-end items-center mb-4",children:!p&&e.jsxs("button",{onClick:X,className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-3 rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all transform hover:scale-105 shadow-lg font-semibold flex items-center gap-2",children:[e.jsx(v,{})," Edit"]})}),k&&e.jsx("div",{className:"text-red-600 mb-2",children:k}),D&&e.jsx("div",{className:"text-green-600 mb-2",children:"Saved successfully!"}),!p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsxs("h1",{className:"text-4xl font-extrabold text-blue-700 mb-4 drop-shadow flex items-center justify-center gap-2",children:[e.jsx(h,{className:"inline-block text-blue-400 mr-2"})," ",l.heroTitle||"Welcome to UrbanSetu"]}),e.jsx("p",{className:"text-lg text-slate-700 font-medium",children:l.heroText||""})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-purple-700 flex items-center gap-2 mb-2",children:[e.jsx(L,{className:"text-purple-500"})," Our Mission"]}),e.jsx("p",{className:"text-slate-700 text-lg",children:l.mission||""})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-blue-700 flex items-center gap-2 mb-2",children:[e.jsx(M,{className:"text-yellow-500"})," What We Offer"]}),e.jsx("ul",{className:"list-disc pl-6 space-y-2 text-slate-700 text-lg",children:(l.features||[]).map((s,a)=>e.jsx("li",{children:s},a))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-green-700 flex items-center gap-2 mb-2",children:[e.jsx(z,{className:"text-green-500"})," Who We Serve"]}),e.jsx("ul",{className:"list-disc pl-6 space-y-2 text-slate-700 text-lg",children:(l.whoWeServe||[]).map((s,a)=>e.jsx("li",{children:s},a))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-blue-700 flex items-center gap-2 mb-2",children:[e.jsx(P,{className:"text-blue-500"})," Trust & Transparency"]}),e.jsx("p",{className:"text-slate-700 text-lg",children:l.trust||""})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-purple-700 flex items-center gap-2 mb-2",children:[e.jsx(_,{className:"text-purple-500"})," Our Team"]}),e.jsx("p",{className:"text-slate-700 text-lg",children:l.team||""})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-green-700 flex items-center gap-2 mb-2",children:[e.jsx(w,{className:"text-green-500"})," Contact & Support"]}),e.jsx("p",{className:"text-slate-700 text-lg whitespace-pre-line",children:l.contact||""})]}),l.customFields&&l.customFields.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-blue-700 flex items-center gap-2 mb-2",children:[e.jsx(h,{className:"text-blue-400"})," Additional Information"]}),e.jsx("ul",{className:"list-disc pl-6 space-y-2 text-slate-700 text-lg",children:l.customFields.map((s,a)=>e.jsxs("li",{children:[e.jsxs("span",{className:"font-semibold",children:[s.key,":"]})," ",s.value]},a))})]})]}),p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(v,{className:"text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-blue-700",children:"Edit Information"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Hero Title"}),e.jsx("input",{name:"heroTitle",value:n.heroTitle,onChange:r,className:"w-full border rounded p-2 mb-2"}),e.jsx("label",{className:"block font-semibold mb-1",children:"Hero Text"}),e.jsx("textarea",{name:"heroText",value:n.heroText,onChange:r,className:"w-full border rounded p-2",rows:2})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(L,{className:"text-purple-500"})," Our Mission"]}),e.jsx("textarea",{name:"mission",value:n.mission,onChange:r,className:"w-full border rounded p-2",rows:2})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(M,{className:"text-yellow-500"})," What We Offer"]}),n.features.map((s,a)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{value:s,onChange:t=>A("features",a,t.target.value),className:"w-full border rounded p-2"}),e.jsx("button",{type:"button",onClick:()=>W("features",a),className:"text-red-500 font-bold",children:"×"})]},a)),e.jsx("button",{type:"button",onClick:()=>E("features"),className:"text-blue-600 underline",children:"+ Add Feature"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(z,{className:"text-green-500"})," Who We Serve"]}),n.whoWeServe.map((s,a)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{value:s,onChange:t=>A("whoWeServe",a,t.target.value),className:"w-full border rounded p-2"}),e.jsx("button",{type:"button",onClick:()=>W("whoWeServe",a),className:"text-red-500 font-bold",children:"×"})]},a)),e.jsx("button",{type:"button",onClick:()=>E("whoWeServe"),className:"text-blue-600 underline",children:"+ Add Audience"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(P,{className:"text-blue-500"})," Trust & Transparency"]}),e.jsx("textarea",{name:"trust",value:n.trust,onChange:r,className:"w-full border rounded p-2",rows:2})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(_,{className:"text-purple-500"})," Our Team"]}),e.jsx("textarea",{name:"team",value:n.team,onChange:r,className:"w-full border rounded p-2",rows:2})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(w,{className:"text-green-500"})," Contact & Support"]}),e.jsx("textarea",{name:"contact",value:n.contact,onChange:r,className:"w-full border rounded p-2",rows:2})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(h,{className:"text-blue-400"})," Additional Information"]}),(n.customFields||[]).map((s,a)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{placeholder:"Field Name",value:s.key,onChange:t=>I(a,"key",t.target.value),className:"w-1/3 border rounded p-2"}),e.jsx("input",{placeholder:"Field Value",value:s.value,onChange:t=>I(a,"value",t.target.value),className:"w-2/3 border rounded p-2"}),e.jsx("button",{type:"button",onClick:()=>q(a),className:"text-red-500 font-bold",children:"×"})]},a)),e.jsx("button",{type:"button",onClick:J,className:"text-blue-600 underline",children:"+ Add Field"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-1 flex items-center gap-2",children:[e.jsx(h,{className:"text-blue-400"})," Social Links"]}),e.jsx("input",{name:"socialEmail",value:n.socialEmail,onChange:r,className:"w-full border rounded p-2 mb-2",placeholder:"Email"}),e.jsx("input",{name:"socialInstagram",value:n.socialInstagram,onChange:r,className:"w-full border rounded p-2 mb-2",placeholder:"Instagram"}),e.jsx("input",{name:"socialX",value:n.socialX,onChange:r,className:"w-full border rounded p-2 mb-2",placeholder:"X"}),e.jsx("input",{name:"socialFacebook",value:n.socialFacebook,onChange:r,className:"w-full border rounded p-2 mb-2",placeholder:"Facebook"}),e.jsx("input",{name:"socialYouTube",value:n.socialYouTube,onChange:r,className:"w-full border rounded p-2 mb-2",placeholder:"YouTube"})]}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsx("button",{onClick:B,disabled:b,className:"bg-blue-700 text-white px-6 py-2 rounded font-bold hover:bg-blue-800 disabled:opacity-50",children:b?"Saving...":"Save Changes"}),e.jsx("button",{onClick:$,disabled:b,className:"bg-gray-300 text-gray-800 px-6 py-2 rounded font-bold hover:bg-gray-400 disabled:opacity-50",children:"Cancel"})]})]}),H&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:e.jsxs("form",{onSubmit:V,className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-xs flex flex-col gap-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-700 flex items-center gap-2",children:[e.jsx(v,{})," Confirm Password"]}),e.jsx("input",{type:"password",className:"border rounded p-2 w-full",placeholder:"Enter your password",value:g,onChange:s=>S(s.target.value),autoFocus:!0}),T&&e.jsx("div",{className:"text-red-600 text-sm",children:T}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 rounded bg-gray-200 text-gray-800 font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-700 text-white font-semibold",children:"Confirm"})]})]})})]}),e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6 mt-6 flex flex-col items-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Connect with Us"}),e.jsxs("div",{className:"flex gap-4 text-2xl mb-2",children:[e.jsx("a",{href:l.socialEmail||"mailto:contact@urbansetu.com",target:"_blank",rel:"noopener noreferrer",title:"Email",children:e.jsx(w,{})}),e.jsx("a",{href:l.socialInstagram||"https://instagram.com/urbansetu",target:"_blank",rel:"noopener noreferrer",title:"Instagram",children:e.jsx("svg",{className:"inline w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5A4.25 4.25 0 0 0 20.5 16.25v-8.5A4.25 4.25 0 0 0 16.25 3.5zm4.25 2.25a5.25 5.25 0 1 1 0 10.5a5.25 5.25 0 0 1 0-10.5zm0 1.5a3.75 3.75 0 1 0 0 7.5a3.75 3.75 0 0 0 0-7.5zm5.25 1.25a1 1 0 1 1 0 2a1 1 0 0 1 0-2z"})})}),e.jsx("a",{href:l.socialX||"https://x.com/urbansetu",target:"_blank",rel:"noopener noreferrer",title:"X",children:e.jsx("svg",{className:"inline w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.53 2H21l-7.19 8.21L22 22h-6.56l-5.18-6.98L2.47 22H-1l7.61-8.7L2 2h6.56l4.93 6.64L17.53 2zm-2.1 16.5h2.13l-5.98-8.06l-2.13-2.87H7.47l5.98 8.06l2.13 2.87z"})})}),e.jsx("a",{href:l.socialFacebook||"https://facebook.com/urbansetu",target:"_blank",rel:"noopener noreferrer",title:"Facebook",children:e.jsx("svg",{className:"inline w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M22.675 0h-21.35C.595 0 0 .592 0 1.326v21.348C0 23.408.595 24 1.326 24H12.82v-9.294H9.692v-3.622h3.127V8.413c0-3.1 1.893-4.788 4.659-4.788c1.325 0 2.463.099 2.797.143v3.24l-1.918.001c-1.504 0-1.797.715-1.797 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116C23.406 24 24 23.408 24 22.674V1.326C24 .592 23.406 0 22.675 0"})})}),e.jsx("a",{href:l.socialYouTube||"https://youtube.com/@urbansetu",target:"_blank",rel:"noopener noreferrer",title:"YouTube",children:e.jsx("svg",{className:"inline w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.498 6.186a2.994 2.994 0 0 0-2.112-2.112C19.454 3.5 12 3.5 12 3.5s-7.454 0-9.386.574A2.994 2.994 0 0 0 .502 6.186C0 8.118 0 12 0 12s0 3.882.502 5.814a2.994 2.994 0 0 0 2.112 2.112C4.546 20.5 12 20.5 12 20.5s7.454 0 9.386-.574a2.994 2.994 0 0 0 2.112-2.112C24 15.882 24 12 24 12s0-3.882-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["© ",new Date().getFullYear()," UrbanSetu. All rights reserved."]})]})]})}export{Q as default};
