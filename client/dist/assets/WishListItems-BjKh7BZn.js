import{R as n,h as x,g as h,j as s,L as i,A as u,y as o}from"./index-BuKMW2la.js";import{M as p}from"./index-CGvsP5r5.js";import{m as b}from"./addressMasking-3vIUwCOC.js";function y({listing:e}){const{removeFromWishlist:c}=n(),a=x(),{currentUser:m}=h(t=>t.user),d=a.pathname.includes("/admin");let r=`/listing/${e._id}`;d?r=`/admin/listing/${e._id}`:a.pathname.startsWith("/user")&&(r=`/user/listing/${e._id}`);const l=async()=>{const t=await c(e._id);t.success?o.success(t.message):o.error(t.message)};return s.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden p-4",children:[s.jsxs(i,{to:r,children:[e.imageUrls&&e.imageUrls.length>0?s.jsx("img",{src:e.imageUrls[0],alt:"home",className:"w-full h-48 object-cover rounded-md",onError:t=>{t.target.src="https://via.placeholder.com/400x300?text=No+Image",t.target.className="w-full h-48 object-cover rounded-md opacity-50"}}):s.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-md flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx("div",{className:"text-4xl mb-2",children:"🏠"}),s.jsx("p",{className:"text-sm",children:"No Image"})]})}),s.jsxs("div",{className:"p-3",children:[s.jsx("p",{className:"text-gray-700 font-semibold text-lg truncate",children:e.name}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[s.jsx(p,{className:"text-red-500"}),s.jsx("p",{className:"truncate",children:b(e.propertyNumber||e.city?{propertyNumber:e.propertyNumber,landmark:e.landmark,city:e.city,district:e.district,state:e.state,pincode:e.pincode}:e.address,!!m)})]}),s.jsx("p",{className:"text-gray-600 text-sm mt-2 truncate",children:e.description}),s.jsxs("p",{className:"text-lg font-bold text-blue-500 mt-2",children:["Rs:",e.offer?e.discountPrice.toLocaleString("en-US"):e.regularPrice.toLocaleString("en-US"),e.type==="rent"&&"/month"]}),s.jsxs("div",{className:"flex space-x-4 text-gray-600 text-sm mt-2",children:[s.jsx("p",{children:e.bedrooms>1?`${e.bedrooms} beds`:`${e.bedrooms} bed`}),s.jsx("p",{children:e.bathrooms>1?`${e.bathrooms} bathrooms`:`${e.bathrooms} bathroom`})]})]})]}),s.jsx("button",{onClick:l,className:"p-2 rounded-full bg-red-500 hover:bg-red-600 transition",children:s.jsx(u,{className:"text-white text-md"})})]})}export{y as W};
